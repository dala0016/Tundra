"use strict";!function(e,t){e.t$=function(e,t){var a=this;function s(t){var a=this;if(!("ontouchstart"in e))return console.log("Sorry. Your browser does not support Tap or Swipe."),{addEventListener:function(){a.message()},removeTarget:function(){a.message()},addTarget:function(){a.message()},message:function(){console.log("Sorry. Your browser does not support TinyShell.")}};console.log("TinyShell is supported");var s=[];s=t.length?Array.from(t):[t],this.Params={targets:s,startX:0,startY:0,moved:!1,duration:0,maxSwipeTime:300,minDistance:25,maxDistance:20,hasTouchListeners:!1},this.Events={swipeleft:new CustomEvent("swipeleft",{detail:{dir:"left",touches:1,callback:null}}),swiperight:new CustomEvent("swiperight",{detail:{dir:"right",touches:1,callback:null}}),tap:new CustomEvent("tap",{detail:{touches:1,callback:null}})}}return s.EventTypes={SWIPELEFT:"swipeleft",SWIPERIGHT:"swiperight",TAP:"tap"},s.prototype.addEventListener=function(e,t){a.Events[e].detail.callback=t,a.Params.targets.forEach(function(t){t.addEventListener(e,this),t.addEventListener("touchstart",this),t.addEventListener("touchend",this),t.addEventListener("touchcancel",this)}.bind(a))},s.prototype.removeTarget=function(e){try{e.removeEventListener("swipeleft",a)}catch(e){}try{e.removeEventListener("swiperight",a)}catch(e){}try{e.removeEventListener("tap",a)}catch(e){}e.removeEventListener("touchstart",a),e.removeEventListener("touchend",a),e.removeEventListener("touchcancel",a),a.Params.targets.filter(function(t){return!t===e})},s.prototype.addTarget=function(e){this.Params.targets.push(e);var t=this.Events.swipeleft.detail.callback,a=this.Events.swiperight.detail.callback,s=this.Events.tap.detail.callback;t&&e.addEventListener("swipeleft",t),a&&e.addEventListener("swipeleft",a),s&&e.addEventListener("swipeleft",s),e.addEventListener("touchstart",this),e.addEventListener("touchend",this),e.addEventListener("touchcancel",this)},s.prototype.start=function(e){var t=e.changedTouches;a.Events.tap.detail.touches=t.length,a.Events.swipeleft.detail.touches=t.length,a.Events.swiperight.detail.touches=t.length,a.Params.startX=t[0].pageX,a.Params.startY=t[0].pageY,performance.mark("start")},s.prototype.end=function(e){var t=e.changedTouches;if(1==t.length){performance.mark("end"),performance.measure("touching","start","end");var s=performance.getEntriesByName("touching","measure")[0].duration,n=Math.max(a.Params.startX,t[0].pageX)-Math.min(a.Params.startX,t[0].pageX),r=Math.max(t[0].pageY,a.Params.startY)-Math.min(t[0].pageY,a.Params.startY),i=void 0;if(i=Math.max(a.Params.startX,t[0].pageX)==a.Params.startX?"left":"right",null!==a.Events.tap.detail.callback&&"function"==typeof a.Events.tap.detail.callback&&n<a.Params.maxDistance&&r<a.Params.maxDistance)return void e.currentTarget.dispatchEvent(a.Events.tap);"left"==i&&null!==a.Events.swipeleft.detail.callback&&"function"==typeof a.Events.swipeleft.detail.callback&&(n>a.Params.minDistance&&s<a.Params.maxSwipeTime&&n>r?(console.log("Successful swipeleft"),e.currentTarget.dispatchEvent(a.Events.swipeleft)):console.log("Invalid swipeleft",n,s)),"right"==i&&null!==a.Events.swiperight.detail.callback&&"function"==typeof a.Events.swiperight.detail.callback&&(n>a.Params.minDistance&&s<a.Params.maxSwipeTime&&n>r?(console.log("Successful swiperight"),e.currentTarget.dispatchEvent(a.Events.swiperight)):console.log("Invalid swiperight",n,s))}},s.prototype.cancel=function(e){console.log("cancel"),performance.clearMarks("start")},s.prototype.clear=function(e,t){console.log("clear"),a.Events[e].detail.callback=null,a.Params.targets.forEach(function(a){a.removeEventListener(e,t),a.removeEventListener("touchstart",this.start),a.removeEventListener("touchend",this.end),a.removeEventListener("touchcancel",this.cancel)}.bind(a)),a.Params.hasTouchListeners=!1,a.Params.targets=[]},s.prototype.handleEvent=function(e){switch(e.type){case"swipeleft":case"swiperight":case"tap":1==e.detail.touches?a.Events[e.type].detail.callback.call(a,e):console.log("Wrong number of touch points",e.detail.touches);break;case"touchstart":a.start(e);break;case"touchend":a.end(e);break;case"touchcancel":a.cancel(e)}},s}(e,e.document)}(window);